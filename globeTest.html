<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeCareer</title>
  <style>
    :root {
      --green: #80c0a1;
      --yellow: #f5fccd;
      --high-yellow: #fff07f;
      --red: #ff7d66;
      --black: #000038;
      --white: #fff;
      --pink: #eb80b1;
      --light-blue: #78d6c6;
      --blue: #419197;
      --dark-blue: #12486b;
      --orange: orange;
      --grey: #919ea3;
      --dark-grey: #66777f;
    }

    body {
      margin: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      flex-direction: column;
      /* background: url('https://i.gifer.com/Ozp.gif') no-repeat center center fixed; */
      background: url('//unpkg.com/three-globe/example/img/night-sky.png') no-repeat center center fixed;
      /* background: var(--black); */
      background-size: cover;
      color: var(--white);
      font-family: 'Orbitron', sans-serif; /* Example futuristic font */
      overflow: hidden;
    }

    #globeViz {
      flex-grow: 1;
      width: 99%;
      height: 100%;
      background-color: var(--black);
      transition: transform 1.5s ease-in-out, opacity 2s ease-in-out;
    }

    #globeViz.move-left {
      transform: translateX(-3%); /*Move the globe 2% to the left */
      opacity: 0;
    }

    #coverBtn {
      position: absolute;
      display: inline-flex;
      justify-content: center;
      padding: 0.5rem 1rem;
      border-radius: 2rem;
      color: var(--dark-blue);
      background: var(--high-yellow);
      outline: 2px solid var(--dark-blue);
      transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 2s ease-in-out;
    }

    #coverBtn.hidden {
      opacity: 0;
    }

    .hidden {
      display: none;
    }

    #coverBtn:hover {
      transform: scale(1.2);
      box-shadow: 0 0 15px var(--high-yellow);
    }

    .cover__title {
      position: absolute;
      top: 1rem;
      left: 1rem;
      color: var(--high-yellow);
      margin: 0;
      text-shadow: 0 0 10px var(--high-yellow);
      transition: transform 1.5s ease, opacity 2s ease-in-out;
    }

    .cover__title.hidden {
      opacity: 0;
    }

    .cover__subtitle {
      position: absolute;
      left: 1rem;
      color: var(--yellow);
      margin: 0;
      text-shadow: 0 0 5px var(--yellow);
      transition: transform 1.5s ease-in-out, opacity 2s ease-in-out;
    }

    .cover__subtitle.hidden {
      opacity: 0;
    }

    .card_cover {
      position: absolute;
      width: 500px;
      padding: 1rem;
      border-radius: 1rem;
      background-color: var(--dark-blue);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      color: var(--white);
      transition: transform 0.3s ease, box-shadow 0.3s ease, opacity 2s ease-in-out;
    }

    .card_cover.hidden {
      opacity: 0;
    }

    .card_cover:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px var(--light-blue);
    }

    .card_cover h3 {
      margin-top: 0;
      color: var(--high-yellow);
    }

    .card_cover p {
      color: var(--yellow);
    }

    .footer {
      position: absolute;
      bottom: 0;
      width: 100%;
      padding: 1rem;
      text-align: left;
      background-color: rgba(0, 0, 0, 0.5);
      color: var(--yellow);
      font-size: 0.9rem;
      box-shadow: 0 -4px 8px rgba(0, 0, 0, 0.3);
    }

    .footer span {
      text-shadow: 0 0 5px var(--high-yellow);
    }

    .loader {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 50px;
      height: 50px;
      display: none; /* Hidden by default */
      transform: translate(-50%, -50%);
      z-index: 99999999;
      transition: transform 1.5s ease-in-out, opacity 2s ease-in-out, top 2s ease, left 2s ease;
    }

    .loader.move-right {
      transform: translateX(100%); /*Move the globe 2% to the left */
      opacity: 0;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }
      100% {
        transform: rotate(360deg);
      }
    }

    /* Responsive styles */
    @media (min-width: 1024px) {
      #coverBtn {
        bottom: 30vh;
        left: 40vw;
        width: 20vw;
      }

      .cover__title {
        font-size: 4rem;
      }

      .cover__subtitle {
        top: 6rem;
        font-size: 2rem;
      }

      .card_cover {
        top: 1rem;
        right: 1rem;
      }
    }

    @media (min-width: 768px) and (max-width: 1023px) {
      #coverBtn {
        bottom: 25vh;
        left: 35vw;
        width: 30vw;
      }

      .cover__title {
        font-size: 3rem;
      }

      .cover__subtitle {
        top: 5rem;
        font-size: 1.5rem;
      }

      .card_cover {
        top: 2rem;
        right: 2rem;
      }
    }

    @media (max-width: 767px) {
      body {
        flex-direction: column;
        justify-content: flex-start;
      }

      #globeViz {
        height: 70vh;
      }

      #coverBtn {
        bottom: 5vh;
        left: 50%;
        width: 60vw;
        transform: translateX(-50%);
      }

      .cover__title {
        font-size: 2rem;
        top: 1rem;
        left: 50%;
        transform: translateX(-50%);
      }

      .cover__subtitle {
        font-size: 1rem;
        top: 4rem;
        left: 50%;
        transform: translateX(-50%);
      }

      .card_cover {
        top: 2rem;
        left: 50%;
        width: 80%;
        transform: translateX(-50%);
      }

      .footer {
        padding: 0.5rem;
        font-size: 0.8rem;
      }
    }
    .loader-body {
      position: absolute;
      top: 50%;
      margin-left: -50px;
      left: 50%;
      animation: speeder .4s linear infinite;

      > span {
        height: 5px;
        width: 35px;
        background: #000;
        position: absolute;
        top: -19px;
        left: 60px;
        border-radius: 2px 10px 1px 0;
      }
    }

    .base {
      span {
        position: absolute;
        width: 0;
        height: 0;
        border-top: 6px solid transparent;
        border-right: 100px solid #000;
        border-bottom: 6px solid transparent;
        top: 22px;
        right: -23px;
        animation: speeder .4s linear infinite;

        &:before {
          content: "";
          height: 22px;
          width: 22px;
          border-radius: 50%;
          background: #000;
          position: absolute;
          right: -110px;
          top: -16px;
        }

        &:after {
          content: "";
          position: absolute;
          width: 0;
          height: 0;
          border-top: 0 solid transparent;
          border-right: 55px solid #000;
          border-bottom: 16px solid transparent;
          top: -16px;
          right: -98px;
        }
      }
    }

    .face {
      position: absolute;
      height: 12px;
      width: 20px;
      background: #000;
      border-radius: 20px 20px 0 0;
      transform: rotate(-40deg);
      right: -47px;
      top: 9px;
      animation: speeder .4s linear infinite;

      &:after {
        content: "";
        height: 12px;
        width: 12px;
        background: #000;
        right: 4px;
        top: 7px;
        position: absolute;
        transform: rotate(40deg);
        transform-origin: 50% 50%;
        border-radius: 0 0 0 2px;
      }
    }

    .loader-body > span > span:nth-child(1),
    .loader-body > span > span:nth-child(2),
    .loader-body > span > span:nth-child(3),
    .loader-body > span > span:nth-child(4) {
      width: 30px;
      height: 1px;
      background: #000;
      position: absolute;
      animation: fazer1 .2s linear infinite;
    }

    .loader-body > span > span:nth-child(2) {
      top: 3px;
      animation: fazer2 .4s linear infinite;
    }

    .loader-body > span > span:nth-child(3) {
      top: 1px;
      animation: fazer3 .4s linear infinite;
      animation-delay: -1s;
    }

    .loader-body > span > span:nth-child(4) {
      top: 4px;
      animation: fazer4 1s linear infinite;
      animation-delay: -1s;
    }

    @keyframes fazer1 {
      0% {
        left: 0;
      }
      100% {
        left: -80px;
        opacity: 0;
      }
    }

    @keyframes fazer2 {
      0% {
        left: 0;
      }
      100% {
        left: -100px;
        opacity: 0;
      }
    }

    @keyframes fazer3 {
      0% {
        left: 0;
      }
      100% {
        left: -50px;
        opacity: 0;
      }
    }

    @keyframes fazer4 {
      0% {
        left: 0;
      }
      100% {
        left: -150px;
        opacity: 0;
      }
    }

    @keyframes speeder {
      0% {
        transform: translate(2px, 1px) rotate(0deg);
      }
      10% {
        transform: translate(-1px, -3px) rotate(-1deg);
      }
      20% {
        transform: translate(-2px, 0px) rotate(1deg);
      }
      30% {
        transform: translate(1px, 2px) rotate(0deg);
      }
      40% {
        transform: translate(1px, -1px) rotate(1deg);
      }
      50% {
        transform: translate(-1px, 3px) rotate(-1deg);
      }
      60% {
        transform: translate(-1px, 1px) rotate(0deg);
      }
      70% {
        transform: translate(3px, 1px) rotate(-1deg);
      }
      80% {
        transform: translate(-2px, -1px) rotate(1deg);
      }
      90% {
        transform: translate(2px, 1px) rotate(0deg);
      }
      100% {
        transform: translate(1px, -2px) rotate(-1deg);
      }
    }

    .longfazers {
      position: absolute;
      width: 100%;
      height: 100%;

      span {
        position: absolute;
        height: 2px;
        width: 20%;
        background: #000;

        &:nth-child(1) {
          top: 20%;
          animation: lf .6s linear infinite;
          animation-delay: -5s;
        }

        &:nth-child(2) {
          top: 40%;
          animation: lf2 .8s linear infinite;
          animation-delay: -1s;
        }

        &:nth-child(3) {
          top: 60%;
          animation: lf3 .6s linear infinite;
        }

        &:nth-child(4) {
          top: 80%;
          animation: lf4 .5s linear infinite;
          animation-delay: -3s;
        }
      }
    }

    @keyframes lf {
      0% {
        left: 200%;
      }
      100% {
        left: -200%;
        opacity: 0;
      }
    }

    @keyframes lf2 {
      0% {
        left: 200%;
      }
      100% {
        left: -200%;
        opacity: 0;
      }
    }

    @keyframes lf3 {
      0% {
        left: 200%;
      }
      100% {
        left: -100%;
        opacity: 0;
      }
    }

    @keyframes lf4 {
      0% {
        left: 200%;
      }
      100% {
        left: -100%;
        opacity: 0;
      }
    }

    /* Bubble text styles */
    /* 'silkscreen' font */
    @font-face {font-family:"silkscreen"; src: url('https://dl.dropbox.com/s/l0frac4d7bz3zx6/silkscreen.ttf');}

    /* colors */
    :root {
      --Speech-Bubble-Border:#222;
      --Speech-Bubble-Background:#fcfcfc;
      --Speech-Bubble-Text:#000;
    }

    #speech-bubble {
      width: 150px;
      position: absolute;
      bottom: 34%;
      left: 86%;
      transform: translate(-50%, -50%);
      z-index: 100000000;
      opacity: 0;
      animation: bubbleFadeIn 1s forwards;
      transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 2s ease-in-out;
    }

    #speech-bubble.hidden {
      opacity: 0;
      animation: bubbleFadeOut 1s forwards;
    }

    @keyframes bubbleFadeIn {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
      }
      100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
    }

    @keyframes bubbleFadeOut {
      0% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
      100% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
      }
    }

    #bub-part-a {
      margin-left: 6px;
      width: calc(100% - 12px);
      height: 2px;
      background: var(--Speech-Bubble-Border);
    }

    #bub-part-b {
      margin-left: 4px;
      width: calc(100% - 12px);
      height: 2px;
      background: var(--Speech-Bubble-Background);
      border-left: 2px solid var(--Speech-Bubble-Border);
      border-right: 2px solid var(--Speech-Bubble-Border);
    }

    #bub-part-c {
      margin-left: 2px;
      width: calc(100% - 8px);
      height: 2px;
      background: var(--Speech-Bubble-Background);
      border-left: 2px solid var(--Speech-Bubble-Border);
      border-right: 2px solid var(--Speech-Bubble-Border);
    }

    #speech-txt {
      width: calc(100% - 24px);
      padding: 10px;
      font-family: silkscreen;
      font-size: 9px;
      color: var(--Speech-Bubble-Text);
      text-align: center;
      background: var(--Speech-Bubble-Background);
      border-left: 2px solid var(--Speech-Bubble-Border);
      border-right: 2px solid var(--Speech-Bubble-Border);
      opacity: 0;
    }

    #speech-arrow {
      margin-top: -2px;
      margin-left: 110px;
    }

    #arrow-w {
      width: 8px;
      height: 8px;
      background: var(--Speech-Bubble-Background);
      border-left: 2px solid var(--Speech-Bubble-Border);
      border-right: 2px solid var(--Speech-Bubble-Border);
    }

    #arrow-x {
      width: 6px;
      height: 2px;
      background: var(--Speech-Bubble-Background);
      border-left: 2px solid var(--Speech-Bubble-Border);
      border-right: 2px solid var(--Speech-Bubble-Border);
    }

    #arrow-y {
      margin-left: -2px;
      width: 6px;
      height: 2px;
      background: var(--Speech-Bubble-Background);
      border-left: 2px solid var(--Speech-Bubble-Border);
      border-right: 2px solid var(--Speech-Bubble-Border);
    }

    #arrow-z {
      margin-left: -2px;
      width: 8px;
      height: 2px;
      background: var(--Speech-Bubble-Border);
    }

  </style>

  <!-- Kuis dashboard -->
  <style>
    /* Question text styles */
    #question-text {
      position: relative;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: 'silkscreen', sans-serif;
      font-size: 24px;
      color: #fcfcfc;
      text-align: center;
      display: none;
      animation: fadeIn 2s forwards;
      margin-bottom: 20px;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.5);
      }
      100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
    }
    /* Sci-Fi Option Styles */
    #question-container {
      position: absolute;
      top: 20%;
      display: flex;
      flex-direction: column;
      height: 47vh;
      align-items: center;
      justify-content: space-between;
      text-align: center;
      margin-top: 20px;
      animation: fadeIn 2s ease-in-out;
      color: #fff;
    }

    .options {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 20px;
      margin-bottom: 20px;
    }

    .sci-fi-option {
      display: flex;
      align-items: center;
      position: relative;
      padding-left: 35px;
      margin-bottom: 12px;
      cursor: pointer;
      font-size: 22px;
      user-select: none;
    }

    .sci-fi-option input {
      position: absolute;
      opacity: 0;
      cursor: pointer;
    }

    .sci-fi-option span {
      position: relative;
      padding: 8px 12px;
      background: #1a1a2e;
      border: 2px solid #00f5d4;
      border-radius: 5px;
      transition: background 0.2s ease, border-color 0.2s ease, color 0.2s ease;
      color: #00f5d4;
    }

    .sci-fi-option input:checked ~ span {
      background: #00f5d4;
      color: #1a1a2e;
    }

    .sci-fi-option input:checked ~ span::before {
      border-color: #00f5d4;
    }

    .sci-fi-option:hover span {
      background: #01bda4;
      color: #1a1a2e;
    }

    .sci-fi-option:not(:hover) input:checked ~ span {
      background: #00f5d4;
      color: #1a1a2e;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    .btn-group {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }

    .btn {
      background-color: #1a1a1a;
      color: #00ffcc;
      border: 2px solid #00ffcc;
      padding: 10px 20px;
      font-size: 16px;
      text-transform: uppercase;
      letter-spacing: 2px;
      transition: all 0.3s ease;
      cursor: pointer;
      box-shadow: 0 0 5px #00ffcc, 0 0 15px #00ffcc, 0 0 30px #00ffcc;
    }

    .btn:hover {
      background-color: #00ffcc;
      color: #1a1a1a;
      box-shadow: 0 0 10px #00ffcc, 0 0 20px #00ffcc, 0 0 40px #00ffcc;
    }

    .btn:active {
      transform: scale(0.95);
      box-shadow: 0 0 5px #00ffcc, 0 0 10px #00ffcc, 0 0 20px #00ffcc;
    }

  </style>

  <!-- canvas -->
  <style>
    #canvas{
      position:absolute;
      top:0;
      right: 0;
      left: 0;
      z-index: 0;
    }

    #canvas.hidden{
      display: none;
    }

    .planet:before {
      content: "";
      display: block;
      position: absolute;
      width: 1500px;
      aspect-ratio: 1;
      right: -1500px; /* Start from outside the right side of the screen */
      top: 50%;
      z-index: -1;
      transform: translateY(-50%);
      background-image: radial-gradient(at 50% 50% in oklch,
          color-mix(in oklch, skyblue, blue 80%),
          color-mix(in oklch, skyblue, blue 10%) 19%,
          color-mix(in oklch, skyblue, blue 20%) 20%,
          color-mix(in oklch, skyblue, blue 80%),
          color-mix(in oklch, blue, black 50%) 55%,
          transparent 70%);
      transition: transform 1.5s ease-in-out, opacity 2s ease-in-out;
    }

    .planet {
      transition: transform 3s ease-in-out, opacity 3s ease-in-out;
      opacity: 0;
    }

    .planet.show {
      opacity: 1;
      animation: movePlanet 30s linear forwards;
    }

    @keyframes movePlanet {
      0% {
        transform: translateX(1500px); /* Start from outside the right side of the screen */
        opacity: 1;
      }
      80% {
        opacity: 1;
      }
      100% {
        transform: translateX(-1500px); /* Move to outside the left side of the screen */
        opacity: 0; /* Gradually fade out */
      }
    }
  </style>

  <!-- another planet -->
   <style>
    :root {
      --mercury-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/mercury2.jpg);
      --mercury-tilt: rotate(0.034deg);
      --mercury-day: 1407.6;
      --mercury-color: #999999;
      --venus-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/venus2.jpg);
      --venus-tilt: rotate(177.3deg);
      --venus-day: 5832.5;
      --venus-color: #e8cda2;
      --earth-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/earth.jpg);
      --earth-tilt: rotate(23.26deg);
      --earth-day: 23.9;
      --earth-color: #b3caff;
      --mars-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/mars.jpg);
      --mars-tilt: rotate(25.2deg);
      --mars-day: 24.6;
      --mars-color: #c07158;
      --jupiter-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/jupiter.jpg);
      --jupiter-tilt: rotate(3.1deg);
      --jupiter-day: 9.9;
      --jupiter-color: #c9b5a4;
      --saturn-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/saturn.jpg);
      --saturn-tilt: rotate(26.7deg);
      --saturn-day: 10.7;
      --saturn-color: #f0e2c4;
      --uranus-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/uranus2.jpg);
      --uranus-tilt: rotate(97.8deg);
      --uranus-day: 17.2;
      --uranus-color: #b8d8e1;
      --neptune-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/neptune.jpg);
      --neptune-tilt: rotate(28.3deg);
      --neptune-day: 16.1;
      --neptune-color: #5e73bb;
      --pluto-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/pluto.jpg);
      --pluto-tilt: rotate(122.5deg);
      --pluto-day: 153.3;
      --pluto-color: #c3b6aa;
      --sun-image: url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/sun.jpg);
      --sun-tilt: rotate(0deg);
      --sun-day: 600;
      --sun-color: #cc9f4c;
    }

    .planet-container {
      transition: transform 3s ease-in-out, opacity 3s ease-in-out;
      opacity: 0;
      right: -1500px; /* Start from outside the right side of the screen */
      top: -50%;
      transform: translateY(50%);
      z-index: -1;
    }

    .planet-container.show {
      opacity: 1;
      animation: movePlanet 30s linear forwards;
    }

    .planet__atmosphere {
      height: 190px;
      width: 190px;
      position: relative;
      background: radial-gradient(circle at 30% 50%, rgba(255, 255, 255, .3) 0%, rgba(255, 255, 255, 0) 65%);
      border-radius: 100px;
      overflow: hidden;
      box-shadow: inset 10px 0px 12px -2px rgba(255, 255, 255, .2),
                  inset -70px 0px 50px 0px black,
                  -5px 0px 10px -4px var(--mars-color); /* Change --mercury-color to appropriate color variable */
    }

    .planet__surface {
      position: absolute;
      height: 100%;
      width: 100%;
      z-index: -1;
      background-size: cover;
      background-image: var(--mars-image); /* Change --mercury-image to appropriate image variable */
      transform: var(--mars-tilt) scale(1.2); /* Change --mercury-tilt to appropriate tilt variable */
      animation: planetRotate calc(var(--mars-day) * .1s) linear infinite; /* Change --mercury-day to appropriate day variable */
    }

    .card--sun .planet__atmosphere {
      box-shadow: 0px 0px 10px 0px var(--mars-color),
                  0px 0px 1000px -2px var(--mars-color);
    }

    @keyframes planetRotate {
      0% {
        background-position: 0% center;
      }
      100% {
        background-position: -200% center;
      }
    }

   </style>

  <script src="//unpkg.com/globe.gl"></script>
</head>

<body>
  <div id="globeViz"></div>
  <span class="cover__title">Code Career</span>
  <span class="cover__subtitle">Discover Your Code Destiny 🚀</span>
  <button id="coverBtn">Morphin</button>
  <div class="card_cover">
    <h3>Selamat Datang di CodeCareer</h3>
    <p>Terjun ke perjalanan menantang dengan CodeCareer, sebuah aplikasi unik yang dikhususkan untuk mengarahkan Anda ke peran ideal Anda dalam dunia teknologi Informasi. Dengan menyertakan tes karakter, tantangan pemrograman, dan panduan karir, kami membantu Anda berjalan jalan yang sesuai dengan minat dan keahlian Anda.</p>
  </div>

  <!-- Loader -->
  <div id="loader" class="loader" style="display: none;">
    <div class="body loader-body">
      <span>
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </span>
    </div>
    <div class="base">
      <span></span>
      <div class="face"></div>
    </div>
    <div class="longfazers">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
    </div>
    <!-- <h1>Redirecting</h1> -->
    <div id="speech-bubble" class="speech-bubble hidden">
      <div id="bub-part-a"></div>
      <div id="bub-part-b"></div>
      <div id="bub-part-c"></div>
      <div id="speech-txt">Greetings, Traveler!</div>
      <div id="bub-part-c"></div>
      <div id="bub-part-b"></div>
      <div id="bub-part-a"></div>

      <div id="speech-arrow">
        <div id="arrow-w"></div>
        <div id="arrow-x"></div>
        <div id="arrow-y"></div>
        <div id="arrow-z"></div>
      </div><!--end arrow-->
    </div><!--end speech bubble-->
  </div>

  <canvas id="canvas" class="hidden" width="2600" height="900"></canvas>
  <div class="planet hidden">
  
  </div> 
  <!-- kuis app -->
  <div id="starfield"></div>
  <div id="success-alert"></div>
  <div id="error-alert"></div>
  <div id="question-container" class="hidden">
    <div id="question-text">Pertanyaan akan muncul di sini.</div>
    <div class="options"></div>
    <div class="btn-group">
      <button id="btn-back" class="btn btn-primary btn-back hidden">Back</button>
      <button id="btn-next" class="btn btn-primary btn-next hidden">Next</button>
      <button id="btn-submit" class="btn btn-primary btn-submit hidden">Submit</button>
      <button id="btn-retry" class="btn btn-primary btn-retry hidden">Retry</button>
    </div>
  </div>
  <div id="result" class="result hidden"></div>
  <div class="result-container">
    <div class="result-details-container">
      <div class="row">
        <div class="col-6 text-center">
          <canvas id="result-chart" class="hidden"></canvas>
        </div>
        <div class="col-6 text-center">
          <div id="result-details" class="hidden">
            <p id="result-description" class="result-description"></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="additional-details hidden">
    <h3 class="text-center">Jangan lewatkan kesempatan!</h3>
    <p class="text-center">Memperoleh sertifikasi dan pelatihan dapat membawa Anda ke puncak karier <b class="passion">passion anda!</b>  <br> Masukkan email Anda di bawah ini dan Kami akan mengirimkan panduan pembelajaran dan pelatihan yang dapat membantu Anda menjadi <b class="passion">passion anda!</b><b> Profesional.</b></p>
    <div id="success-alert"></div>
    <div id="error-alert"></div>
    <input type="email" id="email-input" class="email-input" placeholder="Masukkan email Anda sekarang...">
    <button id="email-button" class="btn btn-primary">Kirim Hasil</button>
    <button id="learning-path-button" class="btn btn-primary">Lihat Panduan Pembelajaran</button>
    <button id="social-share-button" class="btn btn-secondary"><i class="gg-share"></i></button>

    <!-- Hotdog menu -->
    <div id="social-share-menu" class="hidden">
      <ul>
        <li><a href="#" class="social-share" data-platform="facebook">Share on Facebook</a></li>
        <li><a href="#" class="social-share" data-platform="twitter">Share on Twitter</a></li>
        <li><a href="#" class="social-share" data-platform="linkedin">Share on LinkedIn</a></li>
      </ul>
    </div>
  </div>    

  <!-- Planet show -->
  <div class="planet-container hidden">
    <!-- Repeat this block for each planet in planetList -->
    <article class="card--mars">
      <div class="card__planet">
        <div class="planet__atmosphere">
          <div class="planet__surface"></div>
        </div>
      </div>
    </article>
    <!-- Repeat ends here -->
  </div>

  <div class="footer">
    <span>© 2024 CodeCareer. All rights reserved.</span>
  </div>

  <!-- Libraries -->
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- chartjs-plugin-datalabels -->
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.0.0/dist/chartjs-plugin-datalabels.min.js"></script>

  <!-- Variables -->
  <script>

    // Cover
    const globeViz = document.getElementById('globeViz');
    const coverBtn = document.getElementById('coverBtn');
    const planet = document.querySelector('.planet');
    const planetContainer = document.querySelector('.planet-container');
    const cover__title = document.querySelector('.cover__title');
    const cover__subtitle = document.querySelector('.cover__subtitle');
    const card_cover = document.querySelector('.card_cover');


    // Loader
    const loader = document.getElementById('loader');


    // Question
    const questionContainer = document.getElementById('question-container');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.querySelector('.options');
    const resultContainer = document.getElementById("result");
    const resultDescription = document.getElementById("result-description");
    const resultChart = document.getElementById("result-chart");
    const nextButton = document.getElementById("btn-next");
    const submitButton = document.getElementById("btn-submit");
    const retryButton = document.getElementById("btn-retry");
    const backButton = document.getElementById("btn-back");
    const additionalDetails = document.querySelector('.additional-details');
    const resultDetails = document.querySelector('.result-details-container');
    const passions = document.querySelectorAll('.passion');

    // Kuis app
    const successAlert = document.getElementById('success-alert');
    const errorAlert = document.getElementById('error-alert');


    // Speech bubble
    const speechBubble = document.getElementById('speech-bubble');
    const speechText = document.getElementById('speech-txt');

    // Space
    const canvas = document.getElementById("canvas");
    const ctx = canvas.getContext("2d");
  </script>


  <!-- Globe cover view -->
  <script type="module">
    import * as THREE from '//unpkg.com/three/build/three.module.js';
    // Gen random data
    const N = 20;
    const arcsData = [...Array(N).keys()].map(() => ({
      startLat: (Math.random() - 0.5) * 180,
      startLng: (Math.random() - 0.5) * 360,
      endLat: (Math.random() - 0.5) * 180,
      endLng: (Math.random() - 0.5) * 360,
      color: [['red', 'white', 'blue', 'green'][Math.round(Math.random() * 3)], ['red', 'white', 'blue', 'green'][Math.round(Math.random() * 3)]]
    }));

    const world = Globe()
      .globeImageUrl('https://s3-us-west-2.amazonaws.com/s.cdpn.io/332937/earth.jpg')
      // .globeImageUrl('/Backend/public/img/map.png')
      // .globeImageUrl('//unpkg.com/three-globe/example/img/earth-blue-marble.jpg')
      // .globeImageUrl('https://i0.wp.com/www.maptorian.com/wp-content/uploads/2020/09/physical-vector-world-map.png')
      .backgroundImageUrl('//unpkg.com/three-globe/example/img/night-sky.png')
      .bumpImageUrl('//unpkg.com/three-globe/example/img/earth-topology.png')
      .arcsData(arcsData)
      .arcColor('color')
      .arcDashLength(() => Math.random())
      .arcDashGap(() => Math.random())
      .arcDashAnimateTime(() => Math.random() * 1000 + 500)
    (document.getElementById('globeViz'))

    // Auto-rotate
    world.controls().autoRotate = true;
    world.controls().autoRotateSpeed = 0.35;

    // custom globe material
    const globeMaterial = world.globeMaterial();
    globeMaterial.bumpScale = 10;
    new THREE.TextureLoader().load('//unpkg.com/three-globe/example/img/earth-water.png', texture => {
      globeMaterial.specularMap = texture;
      globeMaterial.specular = new THREE.Color('grey');
      globeMaterial.shininess = 15;
    });

    const directionalLight = world.lights().find(light => light.type === 'DirectionalLight');
    directionalLight && directionalLight.position.set(1, 1, 1); // change light position to see the specularMap's effect
  </script>

  <!-- alert -->
  <script>
    function showAlert(id, message, type) {
      $(id).html(
        '<div class="alert alert-' + type + ' alert-border-left alert-dismissible fade show mb-xl-0 material-shadow" role="alert">' +
          '<i class="ri-error-warning-line me-3 align-middle fs-16"></i>' +
          '<strong>' + message + '</strong>' +
          '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>' +
        '</div>'
      );
    }
  </script>


  <!-- app kuis -->
  <script>
    const quizData = [
      {
        category: "Frontend Engineer",
        questions: [
          {
            question: "Apakah Anda tertarik dengan membuat tampilan dan desain situs web?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
          {
            question: "Apakah Anda menikmati bekerja dengan warna, gambar, dan tata letak halaman web?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
          {
            question: "Apakah Anda suka memastikan situs web terlihat bagus di semua perangkat (komputer, tablet, ponsel)?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
        ]
      },
      {
        category: "Backend Engineer",
        questions: [
          {
            question: "Apakah Anda tertarik dengan cara kerja sebuah situs web di balik layar?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
          {
            question: "Apakah Anda suka bekerja dengan data dan informasi yang disimpan di server?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
          {
            question: "Apakah Anda menikmati memecahkan masalah teknis dan memastikan situs web berjalan lancar?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
        ]
      },
      {
        category: "DevOps",
        questions: [
          {
            question: "Apakah Anda tertarik dengan proses otomatisasi dan penyederhanaan pekerjaan?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
          {
            question: "Apakah Anda suka memastikan bahwa pengembangan perangkat lunak berjalan efisien dan lancar?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
          {
            question: "Apakah Anda tertarik dengan pengaturan dan pemeliharaan infrastruktur teknologi?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
        ]
      },
      {
        category: "Mobile Development",
        questions: [
          {
            question: "Apakah Anda tertarik dengan pembuatan aplikasi untuk ponsel?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
          {
            question: "Apakah Anda suka mengembangkan fitur-fitur baru untuk aplikasi ponsel?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
          {
            question: "Apakah Anda tertarik dengan cara kerja aplikasi di berbagai jenis ponsel?",
            options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
          },
        ]
      },
      // {
      //   category: "Cybersecurity",
      //   questions: [
      //     {
      //       question: "Apakah Anda tertarik dengan melindungi informasi dan data dari pencurian?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda suka mencari dan mengatasi celah keamanan di sistem teknologi?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda tertarik dengan cara kerja antivirus dan keamanan online?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //   ]
      // },
      // {
      //   category: "Data Engineering",
      //   questions: [
      //     {
      //       question: "Apakah Anda tertarik dengan pengelolaan data dalam jumlah besar?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda suka memastikan data tersimpan dengan baik dan mudah diakses?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda tertarik dengan pengolahan data untuk menghasilkan informasi berguna?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //   ]
      // },
      // {
      //   category: "Machine Learning",
      //   questions: [
      //     {
      //       question: "Apakah Anda tertarik dengan teknologi yang dapat belajar dan membuat keputusan otomatis?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda suka bekerja dengan data dan mengembangkan model yang dapat memprediksi hasil?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda tertarik dengan cara kerja asisten virtual dan rekomendasi produk?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //   ]
      // },
      // {
      //   category: "Blockchain",
      //   questions: [
      //     {
      //       question: "Apakah Anda tertarik dengan teknologi yang aman dan tidak dapat diubah?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda suka dengan ide transaksi yang transparan dan terpercaya?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda tertarik dengan cara kerja mata uang digital seperti Bitcoin?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //   ]
      // },
      // {
      //   category: "UX/UI Design",
      //   questions: [
      //     {
      //       question: "Apakah Anda tertarik dengan bagaimana cara pengguna berinteraksi dengan teknologi?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda suka membuat desain yang mudah digunakan dan menarik bagi pengguna?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //     {
      //       question: "Apakah Anda tertarik dengan cara kerja aplikasi dan situs web dari sudut pandang pengguna?",
      //       options: ["Sangat tertarik", "Tertarik", "Kurang tertarik", "Tidak tertarik"],
      //     },
      //   ]
      // },
    ];



    const categoryDescriptions = {
      "Frontend Engineer": "Seorang <b>Frontend Developer</b> bertanggung jawab untuk membangun antarmuka pengguna situs web. Mereka bekerja dengan HTML, CSS, dan JavaScript untuk menciptakan desain visual yang menarik, responsif, dan intuitif. Tugas utama mereka adalah memastikan bahwa pengguna memiliki pengalaman yang optimal saat berinteraksi dengan situs web di berbagai perangkat, termasuk komputer, tablet, dan ponsel.",
      "Backend Engineer": "Seorang <b>Backend Developer</b> bekerja di balik layar situs web, menangani logika, basis data, dan server yang memastikan semua fungsionalitas berjalan lancar. Mereka menggunakan bahasa pemrograman seperti Python, Java, atau PHP dan sering bekerja dengan basis data SQL dan NoSQL. Tujuannya adalah untuk memastikan integritas dan keamanan data, serta memastikan bahwa situs web dapat menangani permintaan pengguna dengan cepat dan efisien.",
      "DevOps": "Seorang <b>DevOps Engineer</b> bertugas mengintegrasikan dan mengotomatiskan proses pengembangan perangkat lunak. Mereka bekerja di antara tim pengembangan dan operasi untuk meningkatkan kolaborasi dan produktivitas melalui penggunaan alat otomatisasi, continuous integration, dan continuous delivery (CI/CD). Mereka juga bertanggung jawab untuk memastikan infrastruktur teknologi berjalan dengan efisien dan andal.",
      "Mobile Development": "Seorang <b>Mobile Developer</b> bertanggung jawab untuk membuat aplikasi mobile yang berjalan pada perangkat seperti ponsel dan tablet. Mereka menggunakan bahasa pemrograman seperti Swift untuk iOS atau Kotlin untuk Android. Fokus utama mereka adalah memberikan pengalaman pengguna yang mulus dan menyenangkan, serta memastikan aplikasi berjalan lancar di berbagai perangkat dan versi sistem operasi.",
      "Cybersecurity": "Seorang <b>Cybersecurity Specialist</b> bertanggung jawab untuk melindungi sistem dan data dari ancaman keamanan. Mereka menggunakan teknik seperti enkripsi, firewall, dan manajemen risiko untuk menjaga kerahasiaan, integritas, dan ketersediaan informasi. Mereka juga melakukan analisis keamanan, mengidentifikasi kelemahan, dan mengimplementasikan strategi untuk mencegah serangan cyber. ",
      "Data Engineering": "Seorang <b>Data Engineer</b> bertanggung jawab untuk mengelola, mengolah, dan menganalisis data dalam jumlah besar. Mereka membangun infrastruktur data seperti pipeline ETL (Extract, Transform, Load) untuk memastikan data siap digunakan oleh data scientist dan analis bisnis. Dengan menggunakan alat seperti Hadoop, Spark, dan SQL, mereka membantu organisasi membuat keputusan berbasis data yang lebih baik. ",
      "Machine Learning": "Seorang <b>Machine Learning Engineer</b> bertanggung jawab untuk mengembangkan dan mengimplementasikan algoritma serta model machine learning yang memungkinkan komputer untuk belajar dari data dan membuat prediksi atau keputusan. Mereka bekerja dengan berbagai teknik seperti pembelajaran terawasi, tidak terawasi, dan pembelajaran mendalam. Alat yang sering mereka gunakan termasuk TensorFlow dan PyTorch. ",
      "Blockchain": "Seorang <b>Blockchain Developer</b> bertugas untuk mengembangkan dan mengelola aplikasi berbasis teknologi blockchain. Mereka menggunakan buku besar terdistribusi untuk menciptakan transparansi, keamanan, dan efisiensi dalam transaksi digital. Mereka bekerja dengan platform seperti Ethereum dan Hyperledger, dan sering menggunakan bahasa pemrograman seperti Solidity untuk pengembangan smart contract. ",
      "UX/UI Design": "Seorang <b>UX/UI Designer</b> bertanggung jawab untuk merancang antarmuka pengguna yang intuitif, menarik, dan mudah digunakan. Mereka bekerja erat dengan pengguna dan tim pengembang untuk memahami kebutuhan dan preferensi pengguna. Dengan menggunakan alat seperti Sketch, Figma, dan Adobe XD, mereka membuat desain yang meningkatkan pengalaman pengguna dalam berinteraksi dengan aplikasi dan situs web."
    };

    let currentCategoryIndex = 0;
    let currentQuestionIndex = 0;
    let answers = {};

    function displayQuestion() {
      const categoryData = quizData[currentCategoryIndex];
      const questionData = categoryData.questions[currentQuestionIndex];

      questionText.textContent = questionData.question;

      optionsContainer.innerHTML = '';
      questionData.options.forEach(option => {
        const label = document.createElement('label');
        label.classList.add('sci-fi-option');
        
        const input = document.createElement('input');
        input.type = 'radio';
        input.name = 'interest';
        input.value = option;
        
        const span = document.createElement('span');
        span.textContent = option;
        
        label.appendChild(input);
        label.appendChild(span);
        optionsContainer.appendChild(label);
      });

      setTimeout(() => {
        planetContainer.classList.remove('hidden');
        planetContainer.classList.add('show');
      },3000)
      // Preselect previously answered option
      const previousAnswer = answers[`${currentCategoryIndex}-${currentQuestionIndex}`];
      if (previousAnswer) {
        const optionToSelect = optionsContainer.querySelector(`input[value="${previousAnswer}"]`);
        if (optionToSelect) {
          optionToSelect.checked = true;
        }
      }

      // Tampilkan atau sembunyikan tombol back
      backButton.classList.toggle('hidden', currentQuestionIndex === 0 && currentCategoryIndex === 0);
      nextButton.classList.toggle('hidden', currentQuestionIndex === categoryData.questions.length - 1);
      submitButton.classList.toggle('hidden', currentQuestionIndex !== categoryData.questions.length - 1);
    }

    function nextQuestion() {
      const selectedOption = document.querySelector('input[name="interest"]:checked');
      if (selectedOption) {
        const answer = selectedOption.value;
        answers[`${currentCategoryIndex}-${currentQuestionIndex}`] = answer;
        currentQuestionIndex++;
        if (currentQuestionIndex < quizData[currentCategoryIndex].questions.length) {
          displayQuestion();
        } else {
          currentCategoryIndex++;
          currentQuestionIndex = 0;
          if (currentCategoryIndex < quizData.length) {
            displayQuestion();
          } else {
            console.log("done display result:");
            // displayResult();
          }
        }
      }
    }

    function prevQuestion() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
      } else if (currentCategoryIndex > 0) {
        currentCategoryIndex--;
        currentQuestionIndex = quizData[currentCategoryIndex].questions.length - 1;
      }
      displayQuestion();
    }

    function displayResult() {
      const categoryScores = {};
      for (let key in answers) {
        const answer = answers[key];
        const category = quizData[Math.floor(key.split('-')[0])].category;
        const score = ["Tidak tertarik", "Kurang tertarik", "Tertarik", "Sangat tertarik"].indexOf(answer) + 1;
        if (!categoryScores[category]) {
          categoryScores[category] = 0;
        }
        categoryScores[category] += score;
      }

      const totalScore = Object.values(categoryScores).reduce((acc, score) => acc + score, 0);
      const sortedCategories = Object.keys(categoryScores).sort((a, b) => categoryScores[b] - categoryScores[a]);
      const topCategory = sortedCategories[0];
      const topCategoryScore = categoryScores[topCategory];
      const topCategoryDescription = categoryDescriptions[topCategory];

      const resultHTML = `<h3>Sesuai dengan jawaban anda, Sepertinya Anda paling cocok untuk mendalami <b>${topCategory}</b> </h3>`;
      resultContainer.innerHTML = resultHTML;

      resultDescription.innerHTML = topCategoryDescription;

      passions.forEach(passion => {
          passion.textContent = topCategory;
      });

      document.getElementById('social-share-button').onclick = function() {
        document.getElementById('social-share-menu').classList.toggle('d-none');
      };

      const data = {
         labels: Object.keys(categoryScores).map(category => {
            const percentage = ((categoryScores[category] / totalScore) * 100).toFixed(2);
            return `${category} (${percentage}%)`;
         }),
        datasets: [{
          data: Object.values(categoryScores),
          backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF'],
          hoverBackgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF']
        }]
      };

      const ctx = resultChart.getContext('2d');
      new Chart(ctx, {
        type: 'polarArea',
        data: data,
        options: {
          responsive: true,
          scales: {
            r: {
              pointLabels: {
                display: true,
                centerPointLabels: true,
                font: {
                    size: 12
                }
              }
            },
          },
          plugins: {
            legend: {
              display: false
            },
              tooltip: {
                callbacks: {
                    label: function(context) {
                    const label = context.label || '';
                    const value = context.raw || 0;
                    const total = context.dataset.data.reduce((acc, val) => acc + val, 0);
                    const percentage = ((value / total) * 100).toFixed(2);
                    return `${label}: ${percentage}%`;
                    }
                }
              },
              datalabels: {
                formatter: (value, context) => {
                    const total = context.chart.data.datasets[0].data.reduce((acc, val) => acc + val, 0);
                    const percentage = ((value / total) * 100).toFixed(2);
                    return `${percentage}%`;
                },
                color: '#fff',
                font: {
                    weight: 'bold'
                }
              }
          }
        }
      });

      resultContainer.classList.remove("d-none");
      resultChart.classList.remove("d-none");
      // Remove the display property
      resultChart.style.display = '';
      $('#result-details').removeClass('d-none');
      $('.result-container').removeClass('d-none');
      quizContainer.classList.add("d-none");
      $('#back').addClass('d-none');
      $('#next').addClass('d-none');
      $('#submit').addClass('d-none');
      $('#retry').removeClass('d-none');
      // additionalDetails.classList.remove("d-none");
      $('.additional-details').removeClass('d-none');

      const emailButton = document.getElementById('email-button');
      const learningPathButton = document.getElementById('learning-path-button');
      emailButton.onclick = async function() {
        const email = document.getElementById('email-input').value;
        if (email) {
          const chartImage = await getChartImage(); // Ensure this returns a proper DataURL

          const formData = new FormData();
          formData.append('chart', chartImage);
          formData.append('email', email);
          formData.append('category', topCategory);
          formData.append('scores', JSON.stringify(categoryScores));
          // cetak form data ke console
          const formDataEntries = [...formData.entries()];
          console.log('Form Data:', formDataEntries);

          // comment this for production
          const baseUrl = "http://localhost:3000";
          const apiUrl = baseUrl + '/api/sendmail';
          console.log('Sending email with URL:', apiUrl);
          $.ajax({
            url: apiUrl, //comment this for production
            // url: /api/sendmail, //uncomment this for production
            method: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function(response) {
              console.log("Email sent successfully:", response);
              // alert('Hasil telah dikirim ke email Anda!');
              showAlert("#success-alert", `<b>Data Berhasil dikirimkan ke email: ${email} </b>` + response.message, 'success');
              learningPathButton.onclick = function() {
                window.location.href = response.roadmapURL; 
              };

              document.querySelectorAll('.social-share').forEach(function(element) {
                element.onclick = function(event) {
                  event.preventDefault();
                  const platform = this.getAttribute('data-platform'); 
                  let shareURL = '';
                  const text = `Saya cocok menjadi seorang ${topCategory} dan jalur pembelajaran saya ${response.roadmapURL} dan ini adalah pelatihan sertifikasi gratis yang bisa saya ikuti ${response.categoryLearnURL}`;

                  if (platform === 'facebook') {
                    shareURL = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(text)}`;
                  } else if (platform === 'twitter') {
                    shareURL = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
                  } else if (platform === 'linkedin') {
                    shareURL = `https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(text)}`;
                  }

                  window.open(shareURL, '_blank');
                };
              });
            },
            error: function(error) {
              console.error("Error sending email:", error);
              // alert('Gagal mengirim email: ' + error.responseText);
              showAlert("#error-alert", `<b>Gagal mengirim email: ${email} </b>` + error.responseText, 'error');
            }
          });
        } else {
          alert('Silakan masukkan email Anda.');
        }
      };
    }
      function retryQuiz() {
        let currentCategoryIndex = 0;
        let currentQuestionIndex = 0;
        answers = {};
        displayCover();
      }


    // Function to get the chart image as Blob
    function getChartImage() {
      return new Promise((resolve) => {
        const chartCanvas = document.getElementById('result-chart');
        chartCanvas.toBlob((blob) => {
          resolve(blob);
        }, 'image/png');
      });
    }


    nextButton.addEventListener('click', nextQuestion);
    backButton.addEventListener('click', prevQuestion);
    retryButton.addEventListener("click",  retryQuiz);

    submitButton.addEventListener('click', () => {
      const selectedOption = document.querySelector('input[name="interest"]:checked');
      if (selectedOption) {
        const answer = selectedOption.value;
        answers[`${currentCategoryIndex}-${currentQuestionIndex}`] = answer;
        console.log("done display result:");
        // displayResult();
      }
    });
  </script>

  <!-- canvas space -->
  <script>
    var DeepSpace = function(size, number, speed) {
      this.size = size;
      this.number = number;
      this.speed = speed;
      this.objects = [];

      this.initialize = function() {
        this.creationImage();
        this.animate();
      };

      this.creationImage = function() {
        for (var i = 0; i < this.number; i++) {
          var star = {
            'x': Math.random() * 2000,
            'y': Math.random() * 900,
            'radius': Math.random() * this.size + 1
          };
          this.objects.push(star);
        }
      };

      this.drawCircle = function(x, y, radius) {
        ctx.beginPath();
        ctx.arc(x, y, radius, 0, 2 * Math.PI);
        ctx.fillStyle = 'white';
        ctx.fill();
        ctx.stroke();
        ctx.closePath();
      };

      this.animate = function() {
        ctx.clearRect(0, 0, canvas.width, canvas.height); // Clear the canvas for each frame
        for (var j in this.objects) {
          var star = this.objects[j];
          star.x -= 1; // Move stars to the left
          if (star.x < -2) star.x = 2000; // Reset star position if it moves off screen

          this.drawCircle(star.x, star.y, star.radius);
          this.drawCircle(star.x, star.y, star.radius);
        }
        requestAnimationFrame(this.animate.bind(this));
      };
    };

    var space1 = new DeepSpace(0.1, 1000, 2);
    space1.initialize();
    var space2 = new DeepSpace(0.7, 1000, 3);
    space2.initialize();
    var space3 = new DeepSpace(1.5, 10, 1);
    space3.initialize();
  </script>

  <!--  function Button Cover -->
  <script>
    coverBtn.addEventListener('click', function() {
      console.log('Cover button clicked');
      loader.style.display = 'block'; // Show the loader
      // Simulate a delay (e.g., for a network request)
      setTimeout(() => {
        cover__title.classList.add('hidden');
        cover__subtitle.classList.add('hidden');
        card_cover.classList.add('hidden');
        coverBtn.classList.add('hidden');
        setTimeout(() => {
          globeViz.classList.add('move-left');
          setTimeout(() => {
            document.body.style.background = '#000038';
          }, 1600);
          setTimeout(() => {
            canvas.classList.remove('hidden');
            planet.classList.remove('hidden');
            planet.classList.add('show');
            setTimeout(() => {
              speechBubble.classList.remove('hidden');
              displayTextSequentially([
                "Hai, Coderr!",
                "Sebentar lagi kita akan menemukan ketertarikanmu di bidang IT, apakah kau sudah siap??",
                "Aku harap kamu sudah siap, karena sudah tidak ada waktu, kita sudah terbang sejauh ini jadi persiapkan dirimu!",
                "Akan ada beberapa pertanyaan yang akan ditampilkan, namun tenang tidak ada jawaban yang benar dan salah.",
                "Juga tidak ada batas waktu untuk menjawabnya, jadi kau bisa menjawab dengan santuy sambil ngopi.",
                "Ayo kita Mulai!"
              ]);
            }, 1500);
          }, 4000);
        }, 2000);
      }, 3000); // Adjust the timeout duration as needed
    });

    function animateText(element, text, callback) {
      element.textContent = ''; // Clear the existing text
      element.style.opacity = 1;
      let i = 0;
      let interval = setInterval(() => {
        if (i < text.length) {
          element.textContent += text.charAt(i);
          i++;
        } else {
          clearInterval(interval);
          if (callback) callback();
        }
      }, 100); // Adjust the speed of text animation
    }

    function displayTextSequentially(textArray) {
      let index = 0;

      function displayNextText() {
        if (index < textArray.length) {
          animateText(speechText, textArray[index], () => {
            setTimeout(() => {
              index++;
              displayNextText();
            }, 2000); // Adjust the delay between texts
          });
        } else {
          // After all texts are displayed, hide the speech bubble
          setTimeout(() => {
            speechBubble.classList.add('hidden');
            // Move loader and display question text
            loader.style.top = '10%';
            loader.style.left = '50%';
            setTimeout(() => {
              // Panggil fungsi ini untuk memulai menampilkan pertanyaan pertama
              displayQuestion();
              questionText.style.display = 'block';
              questionContainer.classList.remove('hidden');
            }, 2000); // Adjust the delay for the question text to appear
          }, 2000); // Adjust the delay duration as needed
        }
      }

      displayNextText();
    }
  </script>
</body>
</html>
